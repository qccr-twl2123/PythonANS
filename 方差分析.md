### 方差分析
```text
1.基本假设前提:不同因子对反应变量的均值相等
2.研究目的:找到反应变量存在因子
```
### 代码案例

#### 单因素方差分析
```text
1.按因子分组
2.构造按因子分组的新的集合
3.代入函数计算相等概率()
```

```python
from scipy import stats
# 说明:研究不同处理方法对育苗成长影响---一元方差分析
df = pd.read_excel('C:/Users/Administrator/Desktop/方差分析.xls',header=None,names=['value','group'])
d1 = df[df['group']==1]['value']
d2 = df[df['group']==2]['value']
d3 = df[df['group']==3]['value']
d4 = df[df['group']==4]['value']
d5 = df[df['group']==5]['value']
args = [d1,d2,d3,d4,d5]
f,p = stats.f_oneway(*args)
print(f,p)
```

```python
from statsmodels.formula.api import ols
import statsmodels.stats.anova as anova
#研究行业对收益率是否存在显著影响
returns = pd.DataFrame(pd.concat([MANA.HAM1,MANA.HAM3,MANA.HAM4]))
returns['Class'] = ['HAM1' for i in range(132)]+['HAM3' for i in range(132)]+['HAM4' for i in range(132)]
returns.columns = ['Return','Class']
model = ols('Return~C(Class)',data=returns).fit()
print(anova.anova_lm(model))
```

#### 多因素方差分析



